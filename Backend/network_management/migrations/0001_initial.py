# Generated by Django 5.2.3 on 2026-01-22 14:50

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('internet_plans', '0001_initial'),
        ('service_operations', '__first__'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='BandwidthUsageHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now, help_text='Usage timestamp')),
                ('bytes_used', models.BigIntegerField(help_text='Bytes used in this period')),
                ('duration', models.PositiveIntegerField(help_text='Duration in seconds')),
                ('peak_bandwidth', models.FloatField(blank=True, help_text='Peak bandwidth in Mbps during this period', null=True)),
                ('average_bandwidth', models.FloatField(blank=True, help_text='Average bandwidth in Mbps during this period', null=True)),
            ],
            options={
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='BulkOperation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('operation_id', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('operation_type', models.CharField(choices=[('health_check', 'Health Check'), ('restart', 'Restart'), ('update_firmware', 'Update Firmware'), ('backup_config', 'Backup Configuration'), ('restore_config', 'Restore Configuration'), ('test_connection', 'Test Connection'), ('auto_configure', 'Auto Configure'), ('technician_workflow', 'Technician Workflow'), ('vpn_configuration', 'VPN Configuration')], max_length=20)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('running', 'Running'), ('completed', 'Completed'), ('failed', 'Failed'), ('partial', 'Partial Success')], default='pending', max_length=20)),
                ('results', models.JSONField(blank=True, default=dict)),
                ('started_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('error_message', models.TextField(blank=True)),
                ('parameters', models.JSONField(blank=True, default=dict, help_text='Operation parameters')),
                ('progress', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
            ],
            options={
                'ordering': ['-started_at'],
            },
        ),
        migrations.CreateModel(
            name='DHCPLease',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mac_address', models.CharField(max_length=17)),
                ('lease_time', models.PositiveIntegerField(default=3600)),
                ('expires_at', models.DateTimeField()),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='DiagnosticTest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('test_type', models.CharField(choices=[('ping', 'Ping'), ('traceroute', 'Traceroute'), ('speedtest', 'Speed Test'), ('dns', 'DNS Resolution'), ('packet_loss', 'Packet Loss'), ('health_check', 'Health Check'), ('port_scan', 'Port Scan')], max_length=20)),
                ('target', models.CharField(blank=True, max_length=255)),
                ('status', models.CharField(choices=[('idle', 'Idle'), ('running', 'Running'), ('success', 'Success'), ('error', 'Error'), ('timeout', 'Timeout')], default='idle', max_length=10)),
                ('result', models.JSONField(blank=True, null=True)),
                ('error_message', models.TextField(blank=True)),
                ('duration', models.DecimalField(blank=True, decimal_places=3, max_digits=10, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='HotspotConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ssid', models.CharField(default='SurfZone-WiFi', help_text='Dynamic SSID for the hotspot. Can be customized per router.', max_length=100)),
                ('landing_page_file', models.FileField(blank=True, null=True, upload_to='hotspot_pages/')),
                ('redirect_url', models.URLField(default='http://captive.surfzone.local')),
                ('bandwidth_limit', models.CharField(default='10M', max_length=20)),
                ('session_timeout', models.IntegerField(default=60, help_text='Session timeout in minutes')),
                ('auth_method', models.CharField(choices=[('universal', 'Universal'), ('mac', 'MAC Address'), ('voucher', 'Voucher'), ('social', 'Social Login')], default='universal', max_length=20)),
                ('enable_splash_page', models.BooleanField(default=True)),
                ('allow_social_login', models.BooleanField(default=False)),
                ('enable_bandwidth_shaping', models.BooleanField(default=True)),
                ('log_user_activity', models.BooleanField(default=True)),
                ('max_users', models.IntegerField(default=50, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(1000)])),
                ('welcome_message', models.TextField(blank=True, null=True)),
                ('terms_conditions_url', models.URLField(blank=True, null=True)),
                ('configuration_applied', models.BooleanField(default=False)),
                ('last_configuration_attempt', models.DateTimeField(blank=True, null=True)),
                ('configuration_errors', models.JSONField(blank=True, default=list)),
                ('ip_pool', models.CharField(default='192.168.100.10-192.168.100.200', max_length=100)),
                ('dns_servers', models.CharField(default='8.8.8.8,1.1.1.1', max_length=100)),
                ('rate_limit', models.CharField(default='10M/10M', max_length=50)),
                ('idle_timeout', models.IntegerField(default=300, help_text='Idle timeout in seconds')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Hotspot Configuration',
                'verbose_name_plural': 'Hotspot Configurations',
            },
        ),
        migrations.CreateModel(
            name='HotspotUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mac', models.CharField(max_length=17)),
                ('ip', models.GenericIPAddressField()),
                ('connected_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('disconnected_at', models.DateTimeField(blank=True, null=True)),
                ('data_used', models.BigIntegerField(default=0)),
                ('active', models.BooleanField(default=False)),
                ('latitude', models.FloatField(blank=True, null=True)),
                ('longitude', models.FloatField(blank=True, null=True)),
                ('location_data', models.JSONField(default=dict)),
                ('session_id', models.UUIDField(default=uuid.uuid4, editable=False)),
                ('total_session_time', models.IntegerField(default=0, help_text='Total session time in seconds')),
                ('remaining_time', models.IntegerField(default=0, help_text='Remaining time in seconds')),
                ('last_activity', models.DateTimeField(default=django.utils.timezone.now)),
                ('bandwidth_used', models.JSONField(default=dict, help_text='Upload/download usage in bytes')),
                ('quality_of_service', models.CharField(choices=[('Residential', 'Residential'), ('Business', 'Business'), ('Promotional', 'Promotional'), ('Enterprise', 'Enterprise')], default='standard', max_length=20)),
                ('device_info', models.JSONField(default=dict, help_text='Device type, OS, browser info')),
                ('connection_quality', models.CharField(choices=[('excellent', 'Excellent'), ('good', 'Good'), ('fair', 'Fair'), ('poor', 'Poor')], default='good', max_length=20)),
                ('average_signal_strength', models.IntegerField(blank=True, help_text='Average signal strength in dBm', null=True)),
            ],
            options={
                'ordering': ['-connected_at'],
            },
        ),
        migrations.CreateModel(
            name='IPAddress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ip_address', models.GenericIPAddressField(unique=True)),
                ('status', models.CharField(choices=[('available', 'Available'), ('assigned', 'Assigned'), ('reserved', 'Reserved'), ('blocked', 'Blocked')], default='available', max_length=10)),
                ('description', models.TextField(blank=True)),
                ('subnet', models.CharField(max_length=18)),
                ('bandwidth_limit', models.CharField(blank=True, max_length=20)),
                ('priority', models.CharField(choices=[('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', max_length=10)),
                ('last_used', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NetworkAlert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('alert_type', models.CharField(choices=[('high_latency', 'High Latency'), ('packet_loss', 'High Packet Loss'), ('slow_speed', 'Slow Speed'), ('service_down', 'Service Down'), ('high_usage', 'High Bandwidth Usage'), ('security', 'Security Alert')], max_length=20)),
                ('severity', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], max_length=10)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('is_resolved', models.BooleanField(default=False)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PPPoEConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ip_pool_name', models.CharField(default='pppoe-pool-1', max_length=50)),
                ('service_name', models.CharField(blank=True, help_text='PPPoE service name. Leave blank for auto-generation.', max_length=100, null=True)),
                ('mtu', models.IntegerField(default=1492, validators=[django.core.validators.MinValueValidator(576), django.core.validators.MaxValueValidator(1500)])),
                ('dns_servers', models.CharField(default='8.8.8.8,1.1.1.1', max_length=100)),
                ('bandwidth_limit', models.CharField(default='10M', max_length=20)),
                ('auth_methods', models.CharField(choices=[('all', 'All Methods'), ('pap', 'PAP Only'), ('chap', 'CHAP Only'), ('mschap', 'MS-CHAP Only')], default='all', max_length=20)),
                ('enable_pap', models.BooleanField(default=True)),
                ('enable_chap', models.BooleanField(default=True)),
                ('enable_mschap', models.BooleanField(default=True)),
                ('idle_timeout', models.IntegerField(default=300, help_text='Idle timeout in seconds')),
                ('session_timeout', models.IntegerField(default=0, help_text='Session timeout in seconds (0 = unlimited)')),
                ('default_profile', models.CharField(default='default', max_length=50)),
                ('interface', models.CharField(default='bridge', max_length=50)),
                ('ip_range_start', models.GenericIPAddressField(default='192.168.100.10')),
                ('ip_range_end', models.GenericIPAddressField(default='192.168.100.200')),
                ('service_type', models.CharField(choices=[('standard', 'Standard'), ('business', 'Business'), ('premium', 'Premium')], default='standard', max_length=20)),
                ('configuration_applied', models.BooleanField(default=False)),
                ('last_configuration_attempt', models.DateTimeField(blank=True, null=True)),
                ('configuration_errors', models.JSONField(blank=True, default=list)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'PPPoE Configuration',
                'verbose_name_plural': 'PPPoE Configurations',
            },
        ),
        migrations.CreateModel(
            name='PPPoEUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('username', models.CharField(max_length=100)),
                ('password', models.CharField(max_length=100)),
                ('service_name', models.CharField(blank=True, max_length=100)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('connected_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('disconnected_at', models.DateTimeField(blank=True, null=True)),
                ('data_used', models.BigIntegerField(default=0)),
                ('active', models.BooleanField(default=False)),
                ('session_id', models.UUIDField(default=uuid.uuid4, editable=False)),
                ('total_session_time', models.IntegerField(default=0, help_text='Total session time in seconds')),
                ('remaining_time', models.IntegerField(default=0, help_text='Remaining time in seconds')),
                ('last_activity', models.DateTimeField(default=django.utils.timezone.now)),
                ('bandwidth_used', models.JSONField(default=dict, help_text='Upload/download usage in bytes')),
                ('pppoe_service_type', models.CharField(choices=[('standard', 'Standard'), ('business', 'Business'), ('premium', 'Premium')], default='standard', max_length=50)),
                ('connection_uptime', models.IntegerField(default=0, help_text='Connection uptime in seconds')),
                ('connection_quality', models.CharField(choices=[('excellent', 'Excellent'), ('good', 'Good'), ('fair', 'Fair'), ('poor', 'Poor')], default='good', max_length=20)),
            ],
            options={
                'ordering': ['-connected_at'],
            },
        ),
        migrations.CreateModel(
            name='QoSProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Unique name of the QoS profile', max_length=50, unique=True)),
                ('priority', models.CharField(choices=[('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], help_text='Priority level for traffic', max_length=10)),
                ('max_bandwidth', models.CharField(help_text="Maximum bandwidth (e.g., '100M')", max_length=20)),
                ('min_bandwidth', models.CharField(help_text="Minimum guaranteed bandwidth (e.g., '10M')", max_length=20)),
                ('burst_limit', models.CharField(blank=True, help_text='Burst limit for temporary speed boosts', max_length=20)),
                ('description', models.TextField(blank=True, help_text='Description of the QoS profile')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['priority', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Router',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('ip', models.GenericIPAddressField()),
                ('port', models.PositiveIntegerField(default=8728)),
                ('username', models.CharField(default='admin', max_length=100)),
                ('password', models.CharField(blank=True, max_length=100)),
                ('type', models.CharField(choices=[('mikrotik', 'MikroTik'), ('ubiquiti', 'Ubiquiti'), ('cisco', 'Cisco'), ('other', 'Other')], default='mikrotik', max_length=20)),
                ('location', models.CharField(blank=True, max_length=100, null=True)),
                ('status', models.CharField(choices=[('connected', 'Connected'), ('disconnected', 'Disconnected'), ('updating', 'Updating'), ('error', 'Error')], default='disconnected', max_length=20)),
                ('connection_status', models.CharField(choices=[('connected', 'Connected'), ('disconnected', 'Disconnected'), ('testing', 'Testing'), ('authentication_failed', 'Authentication Failed'), ('connection_failed', 'Connection Failed')], default='disconnected', max_length=25)),
                ('last_connection_test', models.DateTimeField(blank=True, null=True)),
                ('configuration_status', models.CharField(choices=[('not_configured', 'Not Configured'), ('configured', 'Configured'), ('partially_configured', 'Partially Configured'), ('configuration_failed', 'Configuration Failed')], default='not_configured', max_length=25)),
                ('configuration_type', models.CharField(blank=True, choices=[('hotspot', 'Hotspot'), ('pppoe', 'PPPoE'), ('both', 'Both'), ('vpn', 'VPN')], max_length=20, null=True)),
                ('configuration_template', models.JSONField(blank=True, default=dict)),
                ('last_configuration_update', models.DateTimeField(blank=True, null=True)),
                ('average_response_time', models.FloatField(blank=True, null=True)),
                ('connection_success_rate', models.FloatField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('last_seen', models.DateTimeField(default=django.utils.timezone.now)),
                ('is_default', models.BooleanField(default=False)),
                ('captive_portal_enabled', models.BooleanField(default=True)),
                ('is_active', models.BooleanField(default=True)),
                ('callback_url', models.URLField(blank=True, max_length=500, null=True)),
                ('max_clients', models.PositiveIntegerField(default=50, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(1000)])),
                ('description', models.TextField(blank=True, null=True)),
                ('firmware_version', models.CharField(blank=True, max_length=50, null=True)),
                ('ssid', models.CharField(blank=True, default='SurfZone-WiFi', help_text='Dynamic SSID for hotspot configuration. Leave blank for auto-generation.', max_length=100, null=True)),
                ('vpn_enabled', models.BooleanField(default=False)),
                ('vpn_type', models.CharField(blank=True, choices=[('openvpn', 'OpenVPN'), ('wireguard', 'WireGuard'), ('sstp', 'SSTP')], max_length=20, null=True)),
                ('vpn_configuration', models.JSONField(blank=True, default=dict)),
                ('last_technician_workflow', models.DateTimeField(blank=True, null=True)),
                ('workflow_status', models.CharField(blank=True, help_text='Status of last technician workflow', max_length=50, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-is_default', 'name'],
            },
        ),
        migrations.CreateModel(
            name='RouterAuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action', models.CharField(choices=[('create', 'Create'), ('update', 'Update'), ('delete', 'Delete'), ('restart', 'Restart'), ('configure', 'Configure'), ('status_change', 'Status Change'), ('user_activation', 'User Activation'), ('user_deactivation', 'User Deactivation'), ('connection_test', 'Connection Test'), ('technician_workflow', 'Technician Workflow'), ('vpn_configuration', 'VPN Configuration'), ('bulk_operation', 'Bulk Operation'), ('audit_cleanup', 'Audit Cleanup'), ('audit_export', 'Audit Export')], max_length=20)),
                ('description', models.TextField()),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('changes', models.JSONField(blank=True, default=dict)),
                ('status_code', models.IntegerField(blank=True, help_text='HTTP status code for API operations', null=True)),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='RouterCallbackConfig',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('event', models.CharField(choices=[('payment_received', 'Payment Received'), ('user_connected', 'User Connected'), ('user_disconnected', 'User Disconnected'), ('router_offline', 'Router Offline'), ('router_online', 'Router Online'), ('bandwidth_exceeded', 'Bandwidth Exceeded'), ('session_expired', 'Session Expired'), ('suspicious_activity', 'Suspicious Activity'), ('health_alert', 'Health Alert'), ('vpn_status_change', 'VPN Status Change'), ('technician_workflow_completed', 'Technician Workflow Completed')], max_length=100)),
                ('callback_url', models.URLField(max_length=500)),
                ('security_level', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], default='medium', max_length=10)),
                ('security_profile', models.CharField(blank=True, max_length=100)),
                ('is_active', models.BooleanField(default=True)),
                ('retry_enabled', models.BooleanField(default=True)),
                ('max_retries', models.IntegerField(default=3)),
                ('timeout_seconds', models.IntegerField(default=30)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='RouterConnectionTest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('success', models.BooleanField(default=False)),
                ('response_time', models.FloatField(blank=True, help_text='Response time in seconds', null=True)),
                ('system_info', models.JSONField(blank=True, default=dict, help_text='System information from router')),
                ('error_messages', models.JSONField(blank=True, default=list, help_text='List of error messages')),
                ('tested_at', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'ordering': ['-tested_at'],
            },
        ),
        migrations.CreateModel(
            name='RouterHealthCheck',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now)),
                ('is_online', models.BooleanField(default=False)),
                ('response_time', models.FloatField(blank=True, null=True)),
                ('error_message', models.TextField(blank=True, null=True)),
                ('system_metrics', models.JSONField(blank=True, default=dict)),
                ('health_score', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('critical_alerts', models.JSONField(blank=True, default=list)),
                ('performance_metrics', models.JSONField(blank=True, default=dict)),
                ('vpn_status', models.JSONField(blank=True, default=dict, help_text='VPN connection status and metrics')),
            ],
            options={
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='RouterSessionHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_time', models.DateTimeField(default=django.utils.timezone.now)),
                ('end_time', models.DateTimeField(blank=True, null=True)),
                ('data_used', models.BigIntegerField(default=0)),
                ('duration', models.IntegerField(default=0, help_text='Session duration in seconds')),
                ('disconnected_reason', models.CharField(blank=True, choices=[('router_reboot', 'Router Reboot'), ('power_outage', 'Power Outage'), ('manual_disconnect', 'Manual Disconnect'), ('session_timeout', 'Session Timeout'), ('router_switch', 'Router Switch'), ('payment_expired', 'Payment Expired'), ('bandwidth_exceeded', 'Bandwidth Exceeded'), ('suspicious_activity', 'Suspicious Activity'), ('vpn_reconnect', 'VPN Reconnect')], max_length=100, null=True)),
                ('user_type', models.CharField(choices=[('hotspot', 'Hotspot'), ('pppoe', 'PPPoE')], default='hotspot', max_length=10)),
                ('recoverable', models.BooleanField(default=False)),
                ('recovery_attempted', models.BooleanField(default=False)),
                ('recovered_at', models.DateTimeField(blank=True, null=True)),
                ('average_signal_strength', models.IntegerField(blank=True, null=True)),
                ('connection_quality', models.CharField(choices=[('excellent', 'Excellent'), ('good', 'Good'), ('fair', 'Fair'), ('poor', 'Poor')], default='good', max_length=20)),
            ],
            options={
                'ordering': ['-start_time'],
            },
        ),
        migrations.CreateModel(
            name='RouterStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cpu', models.FloatField(validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('memory', models.FloatField(validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('connected_clients_count', models.IntegerField(validators=[django.core.validators.MinValueValidator(0)])),
                ('uptime', models.CharField(max_length=50)),
                ('signal', models.IntegerField(blank=True, null=True)),
                ('temperature', models.FloatField(blank=True, help_text='in Â°C', null=True)),
                ('throughput', models.FloatField(help_text='in Mbps', validators=[django.core.validators.MinValueValidator(0)])),
                ('disk', models.FloatField(validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now)),
                ('upload_speed', models.FloatField(default=0, help_text='in Mbps', validators=[django.core.validators.MinValueValidator(0)])),
                ('download_speed', models.FloatField(default=0, help_text='in Mbps', validators=[django.core.validators.MinValueValidator(0)])),
                ('hotspot_clients', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('pppoe_clients', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('vpn_connections', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('vpn_throughput', models.FloatField(default=0, help_text='VPN throughput in Mbps')),
            ],
            options={
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='ServiceOperationActivation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('service_operation_id', models.UUIDField(default=uuid.uuid4, unique=True)),
                ('subscription_id', models.CharField(max_length=100)),
                ('router_id', models.IntegerField(blank=True, db_index=True, help_text='Router ID from Network Management app', null=True)),
                ('client_id', models.UUIDField(db_index=True, help_text='Client ID from Authentication app')),
                ('internet_plan_id', models.UUIDField(db_index=True, help_text='Plan ID from Internet Plans app')),
                ('activation_data', models.JSONField(default=dict)),
                ('status', models.CharField(choices=[('queued', 'Queued'), ('processing', 'Processing'), ('completed', 'Completed'), ('failed', 'Failed'), ('cancelled', 'Cancelled')], default='queued', max_length=20)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('error_message', models.TextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='SpeedTestHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('download', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('upload', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('client_download', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('client_upload', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('latency', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('jitter', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('packet_loss', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('server', models.CharField(blank=True, max_length=255)),
                ('isp', models.CharField(blank=True, max_length=255)),
                ('device', models.CharField(blank=True, max_length=255)),
                ('connection_type', models.CharField(blank=True, max_length=50)),
                ('test_mode', models.CharField(choices=[('quick', 'Quick'), ('full', 'Full')], default='full', max_length=20)),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='Subnet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('network_address', models.GenericIPAddressField()),
                ('netmask', models.CharField(max_length=18)),
                ('description', models.TextField(blank=True)),
                ('vlan_id', models.PositiveIntegerField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='ActivationAttempt',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('attempted_at', models.DateTimeField(auto_now_add=True)),
                ('success', models.BooleanField(default=False)),
                ('error_message', models.TextField(blank=True)),
                ('retry_count', models.IntegerField(default=0)),
                ('user_type', models.CharField(choices=[('hotspot', 'Hotspot'), ('pppoe', 'PPPoE')], default='hotspot', max_length=10)),
                ('payment_verified', models.BooleanField(default=False)),
                ('transaction_reference', models.CharField(blank=True, max_length=100, null=True)),
                ('verification_method', models.CharField(choices=[('automatic', 'Automatic'), ('manual', 'Manual')], default='automatic', max_length=20)),
                ('workflow_type', models.CharField(blank=True, max_length=50, null=True)),
                ('subscription', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='service_operations.subscription')),
                ('technician', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-attempted_at'],
            },
        ),
        migrations.CreateModel(
            name='BandwidthAllocation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ip_address', models.GenericIPAddressField(help_text='IP address of the device')),
                ('mac_address', models.CharField(help_text='MAC address of the device', max_length=17)),
                ('allocated_bandwidth', models.CharField(help_text="Allocated bandwidth (e.g., '50GB' or 'Unlimited')", max_length=20)),
                ('quota', models.CharField(help_text="Data quota (e.g., '50GB' or 'Unlimited')", max_length=20)),
                ('used_bandwidth', models.FloatField(default=0, help_text='Used bandwidth in GB')),
                ('priority', models.CharField(choices=[('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', help_text='QoS priority level', max_length=10)),
                ('status', models.CharField(choices=[('active', 'Active'), ('inactive', 'Inactive'), ('suspended', 'Suspended')], default='active', help_text='Status of the allocation', max_length=10)),
                ('last_used', models.DateTimeField(blank=True, help_text='Last usage timestamp', null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, help_text='Creation timestamp')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Last update timestamp')),
                ('client', models.ForeignKey(help_text='Client associated with this allocation', limit_choices_to={'user_type': 'client'}, on_delete=django.db.models.deletion.CASCADE, related_name='bandwidth_allocations', to=settings.AUTH_USER_MODEL)),
                ('plan', models.ForeignKey(blank=True, help_text='Internet plan for this allocation', null=True, on_delete=django.db.models.deletion.SET_NULL, to='internet_plans.internetplan')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
    ]
